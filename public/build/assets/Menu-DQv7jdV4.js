import{b as x,t as se,f as O,d as C,j as g,B as K,a3 as G,N as ne,u as re,p as ae,U as ce,v as ie,e as le,k as ue}from"./app-4a17Pub4.js";import{u as de}from"./use-resolved-styles-api-nyfOONey.js";import{P as F}from"./Popover-CBbffI_i.js";import{u as pe}from"./DirectionProvider-DqDMRz46.js";import{u as me}from"./use-uncontrolled-BGuEEBtS.js";function L(s,t){let e=s;for(;(e=e.parentElement)&&!e.matches(t););return e}function fe(s,t,e){for(let o=s-1;o>=0;o-=1)if(!t[o].disabled)return o;if(e){for(let o=t.length-1;o>-1;o-=1)if(!t[o].disabled)return o}return s}function ge(s,t,e){for(let o=s+1;o<t.length;o+=1)if(!t[o].disabled)return o;if(e){for(let o=0;o<t.length;o+=1)if(!t[o].disabled)return o}return s}function he(s,t,e){return L(s,e)===L(t,e)}function ve({parentSelector:s,siblingSelector:t,onKeyDown:e,loop:o=!0,activateOnFocus:i=!1,dir:n="rtl",orientation:l}){return r=>{var c;e==null||e(r);const a=Array.from(((c=L(r.currentTarget,s))==null?void 0:c.querySelectorAll(t))||[]).filter(d=>he(r.currentTarget,d,s)),h=a.findIndex(d=>r.currentTarget===d),m=ge(h,a,o),p=fe(h,a,o),u=n==="rtl"?p:m,v=n==="rtl"?m:p;switch(r.key){case"ArrowRight":{l==="horizontal"&&(r.stopPropagation(),r.preventDefault(),a[u].focus(),i&&a[u].click());break}case"ArrowLeft":{l==="horizontal"&&(r.stopPropagation(),r.preventDefault(),a[v].focus(),i&&a[v].click());break}case"ArrowUp":{l==="vertical"&&(r.stopPropagation(),r.preventDefault(),a[p].focus(),i&&a[p].click());break}case"ArrowDown":{l==="vertical"&&(r.stopPropagation(),r.preventDefault(),a[m].focus(),i&&a[m].click());break}case"Home":{r.stopPropagation(),r.preventDefault(),!a[0].disabled&&a[0].focus();break}case"End":{r.stopPropagation(),r.preventDefault();const d=a.length-1;!a[d].disabled&&a[d].focus();break}}}}function y(s,t){return e=>{s==null||s(e),t==null||t(e)}}function we(s,t,e){var o;return e?Array.from(((o=L(e,t))==null?void 0:o.querySelectorAll(s))||[]).findIndex(i=>i===e):null}function ye(){const[s,t]=x.useState(-1);return[s,{setHovered:t,resetHovered:()=>t(-1)}]}function xe({open:s,close:t,openDelay:e,closeDelay:o}){const i=x.useRef(-1),n=x.useRef(-1),l=()=>{window.clearTimeout(i.current),window.clearTimeout(n.current)},r=()=>{l(),e===0||e===void 0?s():i.current=window.setTimeout(s,e)},a=()=>{l(),o===0||o===void 0?t():n.current=window.setTimeout(t,o)};return x.useEffect(()=>l,[]),{openDropdown:r,closeDropdown:a}}const[Me,N]=se("Menu component was not found in the tree");var T={dropdown:"m_dc9b7c9f",label:"m_9bfac126",divider:"m_efdf90cb",item:"m_99ac2aa1",itemLabel:"m_5476e0d3",itemSection:"m_8b75e504"};const ke={},U=O((s,t)=>{const{classNames:e,className:o,style:i,styles:n,vars:l,...r}=C("MenuDivider",ke,s),a=N();return g.jsx(K,{ref:t,...a.getStyles("divider",{className:o,style:i,styles:n,classNames:e}),...r})});U.classes=T;U.displayName="@mantine/core/MenuDivider";const be={},V=O((s,t)=>{const{classNames:e,className:o,style:i,styles:n,vars:l,onMouseEnter:r,onMouseLeave:a,children:h,...m}=C("MenuDropdown",be,s),p=x.useRef(null),u=N(),v=M=>{var f,D;(M.key==="ArrowUp"||M.key==="ArrowDown")&&(M.preventDefault(),(D=(f=p.current)==null?void 0:f.querySelectorAll("[data-menu-item]:not(:disabled)")[0])==null||D.focus())},c=y(r,()=>(u.trigger==="hover"||u.trigger==="click-hover")&&u.openDropdown()),d=y(a,()=>(u.trigger==="hover"||u.trigger==="click-hover")&&u.closeDropdown());return g.jsxs(F.Dropdown,{...m,onMouseEnter:c,onMouseLeave:d,role:"menu","aria-orientation":"vertical",ref:G(t,p),...u.getStyles("dropdown",{className:o,style:i,styles:n,classNames:e,withStaticClass:!1}),tabIndex:-1,"data-menu-dropdown":!0,onKeyDown:v,children:[g.jsx("div",{tabIndex:-1,"data-autofocus":!0,"data-mantine-stop-propagation":!0,style:{outline:0}}),h]})});V.classes=T;V.displayName="@mantine/core/MenuDropdown";const De={},$=ne((s,t)=>{const{classNames:e,className:o,style:i,styles:n,vars:l,color:r,closeMenuOnClick:a,leftSection:h,rightSection:m,children:p,disabled:u,...v}=C("MenuItem",De,s),c=N(),d=re(),{dir:M}=pe(),f=x.useRef(),D=c.getItemIndex(f.current),I=v,_=y(I.onMouseLeave,()=>c.setHovered(-1)),P=y(I.onMouseEnter,()=>c.setHovered(c.getItemIndex(f.current))),j=y(I.onClick,()=>{typeof a=="boolean"?a&&c.closeDropdownImmediately():c.closeOnItemClick&&c.closeDropdownImmediately()}),A=y(I.onFocus,()=>c.setHovered(c.getItemIndex(f.current))),k=r?d.variantColorResolver({color:r,theme:d,variant:"light"}):void 0,w=r?ae({color:r,theme:d}):null;return g.jsxs(ce,{...v,unstyled:c.unstyled,tabIndex:c.menuItemTabIndex,onFocus:A,...c.getStyles("item",{className:o,style:i,styles:n,classNames:e}),ref:G(f,t),role:"menuitem",disabled:u,"data-menu-item":!0,"data-disabled":u||void 0,"data-hovered":c.hovered===D?!0:void 0,"data-mantine-stop-propagation":!0,onMouseEnter:P,onMouseLeave:_,onClick:j,onKeyDown:ve({siblingSelector:"[data-menu-item]",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:c.loop,dir:M,orientation:"vertical",onKeyDown:I.onKeydown}),__vars:{"--menu-item-color":w!=null&&w.isThemeColor&&(w==null?void 0:w.shade)===void 0?`var(--mantine-color-${w.color}-6)`:k==null?void 0:k.color,"--menu-item-hover":k==null?void 0:k.hover},children:[h&&g.jsx("div",{...c.getStyles("itemSection",{styles:n,classNames:e}),"data-position":"left",children:h}),p&&g.jsx("div",{...c.getStyles("itemLabel",{styles:n,classNames:e}),children:p}),m&&g.jsx("div",{...c.getStyles("itemSection",{styles:n,classNames:e}),"data-position":"right",children:m})]})});$.classes=T;$.displayName="@mantine/core/MenuItem";const Ie={},H=O((s,t)=>{const{classNames:e,className:o,style:i,styles:n,vars:l,...r}=C("MenuLabel",Ie,s),a=N();return g.jsx(K,{ref:t,...a.getStyles("label",{className:o,style:i,styles:n,classNames:e}),...r})});H.classes=T;H.displayName="@mantine/core/MenuLabel";const Se={refProp:"ref"},J=x.forwardRef((s,t)=>{const{children:e,refProp:o,...i}=C("MenuTarget",Se,s);if(!ie(e))throw new Error("Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const n=N(),l=y(e.props.onClick,()=>{n.trigger==="click"?n.toggleDropdown():n.trigger==="click-hover"&&(n.setOpenedViaClick(!0),n.opened||n.openDropdown())}),r=y(e.props.onMouseEnter,()=>(n.trigger==="hover"||n.trigger==="click-hover")&&n.openDropdown()),a=y(e.props.onMouseLeave,()=>{(n.trigger==="hover"||n.trigger==="click-hover"&&!n.openedViaClick)&&n.closeDropdown()});return g.jsx(F.Target,{refProp:o,popupType:"menu",ref:t,...i,children:x.cloneElement(e,{onClick:l,onMouseEnter:r,onMouseLeave:a,"data-expanded":n.opened?!0:void 0})})});J.displayName="@mantine/core/MenuTarget";const Ce={trapFocus:!0,closeOnItemClick:!0,clickOutsideEvents:["mousedown","touchstart","keydown"],loop:!0,trigger:"click",openDelay:0,closeDelay:100,menuItemTabIndex:-1};function b(s){const t=C("Menu",Ce,s),{children:e,onOpen:o,onClose:i,opened:n,defaultOpened:l,trapFocus:r,onChange:a,closeOnItemClick:h,loop:m,closeOnEscape:p,trigger:u,openDelay:v,closeDelay:c,classNames:d,styles:M,unstyled:f,variant:D,vars:I,menuItemTabIndex:_,keepMounted:P,...j}=t,A=le({name:"Menu",classes:T,props:t,classNames:d,styles:M,unstyled:f}),[k,{setHovered:w,resetHovered:Q}]=ye(),[S,q]=me({value:n,defaultValue:l,finalValue:!1,onChange:a}),[W,B]=x.useState(!1),E=()=>{q(!1),B(!1),S&&(i==null||i())},R=()=>{q(!0),!S&&(o==null||o())},z=()=>{S?E():R()},{openDropdown:X,closeDropdown:Y}=xe({open:R,close:E,closeDelay:c,openDelay:v}),Z=te=>we("[data-menu-item]","[data-menu-dropdown]",te),{resolvedClassNames:ee,resolvedStyles:oe}=de({classNames:d,styles:M,props:t});return ue(()=>{Q()},[S]),g.jsx(Me,{value:{getStyles:A,opened:S,toggleDropdown:z,getItemIndex:Z,hovered:k,setHovered:w,openedViaClick:W,setOpenedViaClick:B,closeOnItemClick:h,closeDropdown:u==="click"?E:Y,openDropdown:u==="click"?R:X,closeDropdownImmediately:E,loop:m,trigger:u,unstyled:f,menuItemTabIndex:_},children:g.jsx(F,{...j,opened:S,onChange:z,defaultOpened:l,trapFocus:P?!1:r,closeOnEscape:p,__staticSelector:"Menu",classNames:ee,styles:oe,unstyled:f,variant:D,keepMounted:P,children:e})})}b.extend=s=>s;b.classes=T;b.displayName="@mantine/core/Menu";b.Item=$;b.Label=H;b.Dropdown=V;b.Target=J;b.Divider=U;export{b as M,ve as a,y as c,xe as u};
