import{j as o,G as b,r as t}from"./app-4a17Pub4.js";import{a as w}from"./route-CLXYwALx.js";import{u as c}from"./index-B6r_j4C5.js";import{o as l}from"./ConfirmModal-gDH_QAL7.js";import{A as m}from"./ActionIcon-ni5mTX2i.js";import{I as g}from"./IconPencil-BwWUWQK_.js";import{M as r}from"./Menu-DQv7jdV4.js";import{I as A,a as I}from"./IconDots-BdfUKURJ.js";import{I as v}from"./IconArchive-Dz1DC0sm.js";function D({item:e,editRoute:d,editPermission:p,archivePermission:s,restorePermission:a,archive:n,restore:i,children:h}){const f=c("delete",route(n.route,e.id)),u=c("post",route(i.route,e.id)),x=()=>l({type:"danger",title:n.title,content:n.content,confirmLabel:n.confirmLabel,confirmProps:{color:"red"},onConfirm:()=>f.submit()}),j=()=>l({type:"info",title:i.title,content:i.content,confirmLabel:i.confirmLabel,confirmProps:{color:"blue"},onConfirm:()=>u.submit()});return o.jsxs(b,{gap:0,justify:"flex-end",wrap:"nowrap",children:[h,can(p)&&!route().params.archived&&o.jsx(m,{variant:"subtle",color:"blue",onClick:()=>w(d,e.id),children:o.jsx(g,{style:{width:t(16),height:t(16)},stroke:1.5})}),(can(s)&&!route().params.archived||can(a)&&route().params.archived)&&e.name!=="client"&&o.jsxs(r,{withArrow:!0,position:"bottom-end",withinPortal:!0,shadow:"md",transitionProps:{duration:100,transition:"pop-top-right"},offset:{mainAxis:3,alignmentAxis:5},children:[o.jsx(r.Target,{children:o.jsx(m,{variant:"subtle",color:"gray",children:o.jsx(A,{style:{width:t(16),height:t(16)},stroke:1.5})})}),o.jsxs(r.Dropdown,{children:[can(a)&&route().params.archived&&o.jsx(r.Item,{leftSection:o.jsx(I,{style:{width:t(16),height:t(16)},stroke:1.5}),color:"blue",onClick:j,children:"Restore"}),can(s)&&!route().params.archived&&o.jsx(r.Item,{leftSection:o.jsx(v,{style:{width:t(16),height:t(16)},stroke:1.5}),color:"red",onClick:x,children:"Archive"})]})]})]})}export{D as T};
