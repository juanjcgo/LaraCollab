import{p as a,c as d}from"./index-C163xbN1.js";import{r as i}from"./reorder-DWLP_Jze.js";import{l as c}from"./app-4a17Pub4.js";const t=(e,p)=>({addTaskGroupLocally:r=>e(a(o=>{o.groups=[...o.groups,r]})),updateTaskGroupLocally:r=>e(a(o=>{const u=p().groups.findIndex(s=>s.id===r.id);o.groups[u]=r})),removeTaskGroupLocally:r=>e(a(o=>{o.groups=o.groups.filter(u=>u.id!==r)})),restoreTaskGroupLocally:r=>e(a(o=>{o.groups=[r,...o.groups.filter(u=>u.id!==r.id)].sort((u,s)=>u.order_column>s.order_column?1:-1)})),reorderTaskGroupLocally:r=>e(a(o=>{o.groups=o.groups.sort((u,s)=>r.indexOf(u.id)-r.indexOf(s.id))}))}),n=d((e,p)=>({...t(e,p),groups:[],setGroups:r=>e(()=>({groups:[...r]})),findTaskGroup:r=>p().groups.find(o=>o.id===r),reorderGroup:(r,o)=>{const u=i(p().groups,r,o);return c.post(route("projects.task-groups.reorder",route().params.project),{ids:u.map(s=>s.id)}).catch(()=>alert("Failed to save task group reorder action")),e(()=>({groups:[...u]}))}})),f=n;export{f as u};
