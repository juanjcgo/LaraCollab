import{t as z,f as v,d as f,j as e,B as N,e as L,h as T,i as B,m as G,u as D,g as I,o as O,c as V,G as A}from"./app-4a17Pub4.js";import{g as E}from"./user-IyQLa11_.js";import F from"./FavoriteToggle-65fBfkL2.js";import M from"./ProjectCardActions-Bh-LvcvW.js";import{C as q}from"./Card-RRF-xeJH.js";import{T as g}from"./Text-BR9LnClf.js";import{u as H}from"./use-resolved-styles-api-nyfOONey.js";import{g as J}from"./get-auto-contrast-value-Da6zqqWm.js";import{T as k}from"./Tooltip-Bs0FEF2V.js";import{A as C}from"./Avatar-VVVl2UCZ.js";import"./index-B6r_j4C5.js";import"./IconStarFilled-15V02pcv.js";import"./createReactComponent-BwHUzXp6.js";import"./IconStar-Dr9rxiok.js";import"./ConfirmModal-gDH_QAL7.js";import"./useForm-D-7B7N6w.js";import"./UserAccessModal-Cz5D6XLf.js";import"./MultiSelect-Duq5FJlZ.js";import"./OptionsDropdown-B7k9BRCW.js";import"./CheckIcon-BVmRy-LG.js";import"./ScrollArea-BBLLgi1y.js";import"./DirectionProvider-DqDMRz46.js";import"./Combobox-Bd-ojIJS.js";import"./Popover-CBbffI_i.js";import"./use-floating-auto-update-BytyxRVS.js";import"./use-uncontrolled-BGuEEBtS.js";import"./Input-B6kN7ymh.js";import"./create-optional-context-DejgPxvx.js";import"./InputBase-DVeQGwl5.js";import"./Pill-BLrl2ix2.js";import"./PillsInput-B9htvQA-.js";import"./Flex-C4-MgrqI.js";import"./Menu-DQv7jdV4.js";import"./ActionIcon-ni5mTX2i.js";import"./IconDots-BdfUKURJ.js";import"./IconUsers-ClcBakf5.js";import"./IconPencil-BwWUWQK_.js";import"./IconArchive-Dz1DC0sm.js";import"./get-style-object-DUJZA7T_.js";const[K,R]=z("Progress.Root component was not found in tree");var x={root:"m_db6d6462",section:"m_2242eb65","stripes-animation":"m_81a374bd",label:"m_91e40b74"};const Q={},S=v((s,o)=>{const{classNames:t,className:r,style:l,styles:a,vars:u,...i}=f("ProgressLabel",Q,s),c=R();return e.jsx(N,{ref:o,...c.getStyles("label",{className:r,style:l,classNames:t,styles:a}),...i})});S.classes=x;S.displayName="@mantine/core/ProgressLabel";const U={},W=T((s,{size:o,radius:t,transitionDuration:r})=>({root:{"--progress-size":B(o,"progress-size"),"--progress-radius":t===void 0?void 0:G(t),"--progress-transition-duration":typeof r=="number"?`${r}ms`:void 0}})),j=v((s,o)=>{const t=f("ProgressRoot",U,s),{classNames:r,className:l,style:a,styles:u,unstyled:i,vars:c,autoContrast:m,transitionDuration:h,...d}=t,p=L({name:"Progress",classes:x,props:t,className:l,style:a,classNames:r,styles:u,unstyled:i,vars:c,varsResolver:W});return e.jsx(K,{value:{getStyles:p,autoContrast:m},children:e.jsx(N,{ref:o,...p("root"),...d})})});j.classes=x;j.displayName="@mantine/core/ProgressRoot";const X={withAria:!0},y=v((s,o)=>{const{classNames:t,className:r,style:l,styles:a,vars:u,value:i,withAria:c,color:m,striped:h,animated:d,mod:p,...P}=f("ProgressSection",X,s),b=R(),w=D(),$=c?{role:"progressbar","aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":i,"aria-valuetext":`${i}%`}:{};return e.jsx(N,{ref:o,...b.getStyles("section",{className:r,classNames:t,styles:a,style:l}),...P,...$,mod:[{striped:h||d,animated:d},p],__vars:{"--progress-section-width":`${i}%`,"--progress-section-color":I(m,w),"--progress-label-color":J(b.autoContrast,w)?O({color:m,theme:w,autoContrast:b.autoContrast}):void 0}})});y.classes=x;y.displayName="@mantine/core/ProgressSection";const Y={},n=v((s,o)=>{const t=f("Progress",Y,s),{value:r,classNames:l,styles:a,vars:u,color:i,striped:c,animated:m,"aria-label":h,...d}=t,{resolvedClassNames:p,resolvedStyles:P}=H({classNames:l,styles:a,props:t});return e.jsx(j,{ref:o,classNames:p,styles:P,vars:u,...d,children:e.jsx(y,{value:r,color:i,striped:c,animated:m,"aria-label":h})})});n.classes=x;n.displayName="@mantine/core/Progress";n.Section=y;n.Root=j;n.Label=S;const Z=s=>{(s.target.dataset.ignoreLink||s.target.parentNode.dataset.ignoreLink)&&s.preventDefault()},ss="_link_wt9y9_1",es="_card_wt9y9_5",ts="_title_wt9y9_11",_={link:ss,card:es,title:ts};function Fs({item:s}){var r,l;const o=s.completed_tasks_count/s.all_tasks_count*100,t=s.overdue_tasks_count/s.all_tasks_count*100;return e.jsx(V,{href:route("projects.tasks",s.id),className:_.link,onClick:Z,children:e.jsxs(q,{withBorder:!0,padding:"xl",radius:"md",w:350,className:_.card,children:[e.jsxs(A,{justify:"space-between",children:[e.jsx(g,{fz:23,fw:700,className:_.title,children:s.name}),e.jsx(F,{item:s})]}),e.jsx(g,{fz:"sm",fw:500,children:(r=s.client_company)==null?void 0:r.name}),((l=s.description)==null?void 0:l.length)>0&&e.jsx(g,{fz:"sm",c:"dimmed",mt:"lg",children:s.description}),e.jsxs(g,{c:"dimmed",fz:"sm",mt:"md",children:["Completed tasks:"," ",e.jsxs(g,{span:!0,fw:500,c:"bright",children:[s.completed_tasks_count," / ",s.all_tasks_count]})]}),e.jsxs(n.Root,{value:s.all_tasks_count,mt:10,radius:"xl",children:[e.jsx(k,{label:`Completed: ${s.completed_tasks_count}`,withArrow:!0,children:e.jsx(n.Section,{value:o,color:"blue"})}),e.jsx(k,{label:`Overdue: ${s.overdue_tasks_count}`,withArrow:!0,children:e.jsx(n.Section,{value:t,color:"red"})}),e.jsx(n.Section,{value:100-(o+t),color:"gray"})]}),e.jsxs(A,{justify:"space-between",mt:"md",children:[e.jsxs(C.Group,{spacing:"sm",children:[s.users_with_access.slice(0,4).map(a=>e.jsx(k,{label:a.name,openDelay:300,withArrow:!0,children:e.jsx(C,{src:a.avatar,radius:"xl",style:{cursor:"default"},"data-ignore-link":!0,className:_.avatar,children:E(a.name)})},a.id)),s.users_with_access.length-4>0&&e.jsxs(C,{radius:"xl",children:["+",s.users_with_access.length-4]})]}),e.jsx(M,{item:s})]})]})})}export{Fs as default};
