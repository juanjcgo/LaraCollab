import{b as h,j as f,B as G,f as fe,d as q,e as me,u as _e,k as te,a3 as Pe,r as k,h as je,i as X,J as Me}from"./app-4a17Pub4.js";import{C as be}from"./ColorSwatch-HXcgr9nk.js";import{c as Ne}from"./create-optional-context-DejgPxvx.js";import{c as Y}from"./clamp-DTmYCdls.js";import{u as Ee}from"./use-uncontrolled-BGuEEBtS.js";function pe(t){return{x:Y(t.x,0,1),y:Y(t.y,0,1)}}function ve(t,e,r="ltr"){const s=h.useRef(null),n=h.useRef(!1),o=h.useRef(!1),a=h.useRef(0),[b,x]=h.useState(!1);return h.useEffect(()=>{n.current=!0},[]),h.useEffect(()=>{var p,v;const c=({x:u,y:D})=>{cancelAnimationFrame(a.current),a.current=requestAnimationFrame(()=>{if(n.current&&s.current){s.current.style.userSelect="none";const _=s.current.getBoundingClientRect();if(_.width&&_.height){const T=Y((u-_.left)/_.width,0,1);t({x:r==="ltr"?T:1-T,y:Y((D-_.top)/_.height,0,1)})}}})},i=()=>{document.addEventListener("mousemove",y),document.addEventListener("mouseup",d),document.addEventListener("touchmove",j),document.addEventListener("touchend",d)},m=()=>{document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",d),document.removeEventListener("touchmove",j),document.removeEventListener("touchend",d)},l=()=>{!o.current&&n.current&&(o.current=!0,typeof(e==null?void 0:e.onScrubStart)=="function"&&e.onScrubStart(),x(!0),i())},d=()=>{o.current&&n.current&&(o.current=!1,x(!1),m(),setTimeout(()=>{typeof(e==null?void 0:e.onScrubEnd)=="function"&&e.onScrubEnd()},0))},P=u=>{l(),u.preventDefault(),y(u)},y=u=>c({x:u.clientX,y:u.clientY}),R=u=>{u.cancelable&&u.preventDefault(),l(),j(u)},j=u=>{u.cancelable&&u.preventDefault(),c({x:u.changedTouches[0].clientX,y:u.changedTouches[0].clientY})};return(p=s.current)==null||p.addEventListener("mousedown",P),(v=s.current)==null||v.addEventListener("touchstart",R,{passive:!1}),()=>{s.current&&(s.current.removeEventListener("mousedown",P),s.current.removeEventListener("touchstart",R))}},[r,t]),{ref:s,active:b}}const[Te,ne]=Ne(null),ae=h.forwardRef(({position:t,...e},r)=>f.jsx(G,{ref:r,__vars:{"--thumb-y-offset":`${t.y*100}%`,"--thumb-x-offset":`${t.x*100}%`},...e}));ae.displayName="@mantine/core/ColorPickerThumb";var oe={wrapper:"m_fee9c77",preview:"m_9dddfbac",body:"m_bffecc3e",sliders:"m_3283bb96",thumb:"m_40d572ba",swatch:"m_d8ee6fd8",swatches:"m_5711e686",saturation:"m_202a296e",saturationOverlay:"m_11b3db02",slider:"m_d856d47d",sliderOverlay:"m_8f327113"};const Ae={},ce=fe((t,e)=>{var I;const r=q("ColorSlider",Ae,t),{classNames:s,className:n,style:o,styles:a,unstyled:b,vars:x,onChange:c,onChangeEnd:i,maxValue:m,round:l,size:d="md",focusable:P=!0,value:y,overlays:R,thumbColor:j="transparent",onScrubStart:p,onScrubEnd:v,__staticSelector:u="ColorPicker",...D}=r,_=me({name:u,classes:oe,props:r,className:n,style:o,classNames:s,styles:a,unstyled:b}),z=((I=ne())==null?void 0:I.getStyles)||_,J=_e(),[M,A]=h.useState({y:0,x:y/m}),N=h.useRef(M),C=g=>l?Math.round(g*m):g*m,{ref:V}=ve(({x:g,y:w})=>{N.current={x:g,y:w},c==null||c(C(g))},{onScrubEnd:()=>{const{x:g}=N.current;i==null||i(C(g)),v==null||v()},onScrubStart:p});te(()=>{A({y:0,x:y/m})},[y]);const L=(g,w)=>{g.preventDefault();const H=pe(w);c==null||c(C(H.x)),i==null||i(C(H.x))},U=g=>{switch(g.key){case"ArrowRight":{L(g,{x:M.x+.05,y:M.y});break}case"ArrowLeft":{L(g,{x:M.x-.05,y:M.y});break}}},F=R.map((g,w)=>h.createElement("div",{...z("sliderOverlay"),style:g,key:w}));return f.jsxs(G,{...D,ref:Pe(V,e),...z("slider"),role:"slider","aria-valuenow":y,"aria-valuemax":m,"aria-valuemin":0,tabIndex:P?0:-1,onKeyDown:U,"data-focus-ring":J.focusRing,__vars:{"--cp-thumb-size":`var(--cp-thumb-size-${d})`},children:[F,f.jsx(ae,{position:M,...z("thumb",{style:{top:k(1),background:j}})})]})});ce.displayName="@mantine/core/ColorSlider";function $(t,e=0,r=10**e){return Math.round(r*t)/r}function Ce({h:t,s:e,l:r,a:s}){const n=e*((r<50?r:100-r)/100);return{h:t,s:n>0?2*n/(r+n)*100:0,v:r+n,a:s}}const Le={grad:360/400,turn:360,rad:360/(Math.PI*2)};function Ie(t,e="deg"){return Number(t)*(Le[e]||1)}const He=/hsla?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i;function ie(t){const e=He.exec(t);return e?Ce({h:Ie(e[1],e[2]),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)}):{h:0,s:0,v:0,a:1}}function re({r:t,g:e,b:r,a:s}){const n=Math.max(t,e,r),o=n-Math.min(t,e,r),a=o?n===t?(e-r)/o:n===e?2+(r-t)/o:4+(t-e)/o:0;return{h:$(60*(a<0?a+6:a),3),s:$(n?o/n*100:0,3),v:$(n/255*100,3),a:s}}function se(t){const e=t[0]==="#"?t.slice(1):t;return e.length===3?re({r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:1}):re({r:parseInt(e.slice(0,2),16),g:parseInt(e.slice(2,4),16),b:parseInt(e.slice(4,6),16),a:1})}function Oe(t){const e=t[0]==="#"?t.slice(1):t,r=a=>$(parseInt(a,16)/255,3);if(e.length===4){const a=e.slice(0,3),b=r(e[3]+e[3]);return{...se(a),a:b}}const s=e.slice(0,6),n=r(e.slice(6,8));return{...se(s),a:n}}const De=/rgba?\(?\s*(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i;function le(t){const e=De.exec(t);return e?re({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):{h:0,s:0,v:0,a:1}}const xe={hex:/^#?([0-9A-F]{3}){1,2}$/i,hexa:/^#?([0-9A-F]{4}){1,2}$/i,rgb:/^rgb\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/i,rgba:/^rgba\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/i,hsl:/hsl\(\s*(\d+)\s*,\s*(\d+(?:\.\d+)?%)\s*,\s*(\d+(?:\.\d+)?%)\)/i,hsla:/^hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*(\d*(?:\.\d+)?)\)$/i},ze={hex:se,hexa:Oe,rgb:le,rgba:le,hsl:ie,hsla:ie};function Ve(t){for(const[,e]of Object.entries(xe))if(e.test(t))return!0;return!1}function B(t){if(typeof t!="string")return{h:0,s:0,v:0,a:1};if(t==="transparent")return{h:0,s:0,v:0,a:0};const e=t.trim();for(const[r,s]of Object.entries(xe))if(s.test(e))return ze[r](e);return{h:0,s:0,v:0,a:1}}const Fe={},ge=h.forwardRef((t,e)=>{const{value:r,onChange:s,onChangeEnd:n,color:o,...a}=q("AlphaSlider",Fe,t);return f.jsx(ce,{...a,ref:e,value:r,onChange:b=>s==null?void 0:s($(b,2)),onChangeEnd:b=>n==null?void 0:n($(b,2)),maxValue:1,round:!1,"data-alpha":!0,overlays:[{backgroundImage:"linear-gradient(45deg, var(--slider-checkers) 25%, transparent 25%), linear-gradient(-45deg, var(--slider-checkers) 25%, transparent 25%), linear-gradient(45deg, transparent 75%, var(--slider-checkers) 75%), linear-gradient(-45deg, var(--mantine-color-body) 75%, var(--slider-checkers) 75%)",backgroundSize:`${k(8)} ${k(8)}`,backgroundPosition:`0 0, 0 ${k(4)}, ${k(4)} ${k(-4)}, ${k(-4)} 0`},{backgroundImage:`linear-gradient(90deg, transparent, ${o})`},{boxShadow:`rgba(0, 0, 0, .1) 0 0 0 ${k(1)} inset, rgb(0, 0, 0, .15) 0 0 ${k(4)} inset`}]})});ge.displayName="@mantine/core/AlphaSlider";function ye({h:t,s:e,v:r,a:s}){const n=t/360*6,o=e/100,a=r/100,b=Math.floor(n),x=a*(1-o),c=a*(1-(n-b)*o),i=a*(1-(1-n+b)*o),m=b%6;return{r:$([a,c,x,x,i,a][m]*255),g:$([i,a,a,c,x,x][m]*255),b:$([x,x,i,a,a,c][m]*255),a:$(s,2)}}function de(t,e){const{r,g:s,b:n,a:o}=ye(t);return e?`rgba(${r}, ${s}, ${n}, ${$(o,2)})`:`rgb(${r}, ${s}, ${n})`}function he({h:t,s:e,v:r,a:s},n){const o=(200-e)*r/100,a={h:Math.round(t),s:Math.round(o>0&&o<200?e*r/100/(o<=100?o:200-o)*100:0),l:Math.round(o/2)};return n?`hsla(${a.h}, ${a.s}%, ${a.l}%, ${$(s,2)})`:`hsl(${a.h}, ${a.s}%, ${a.l}%)`}function K(t){const e=t.toString(16);return e.length<2?`0${e}`:e}function we(t){const{r:e,g:r,b:s}=ye(t);return`#${K(e)}${K(r)}${K(s)}`}function Ge(t){const e=Math.round(t.a*255);return`${we(t)}${K(e)}`}const ee={hex:we,hexa:t=>Ge(t),rgb:t=>de(t,!1),rgba:t=>de(t,!0),hsl:t=>he(t,!1),hsla:t=>he(t,!0)};function E(t,e){return e?t in ee?ee[t](e):ee.hex(e):"#000000"}const Se=h.forwardRef((t,e)=>{const{value:r,onChange:s,onChangeEnd:n,color:o,...a}=q("HueSlider",{},t);return f.jsx(ce,{...a,ref:e,value:r,onChange:s,onChangeEnd:n,maxValue:360,thumbColor:`hsl(${r}, 100%, 50%)`,round:!0,"data-hue":!0,overlays:[{backgroundImage:"linear-gradient(to right,hsl(0,100%,50%),hsl(60,100%,50%),hsl(120,100%,50%),hsl(170,100%,50%),hsl(240,100%,50%),hsl(300,100%,50%),hsl(360,100%,50%))"},{boxShadow:`rgba(0, 0, 0, .1) 0 0 0 ${k(1)} inset, rgb(0, 0, 0, .15) 0 0 ${k(4)} inset`}]})});Se.displayName="@mantine/core/HueSlider";function $e({className:t,onChange:e,onChangeEnd:r,value:s,saturationLabel:n,focusable:o=!0,size:a,color:b,onScrubStart:x,onScrubEnd:c,...i}){const{getStyles:m}=ne(),[l,d]=h.useState({x:s.s/100,y:1-s.v/100}),P=h.useRef(l),{ref:y}=ve(({x:p,y:v})=>{P.current={x:p,y:v},e({s:Math.round(p*100),v:Math.round((1-v)*100)})},{onScrubEnd:()=>{const{x:p,y:v}=P.current;r({s:Math.round(p*100),v:Math.round((1-v)*100)}),c==null||c()},onScrubStart:x});h.useEffect(()=>{d({x:s.s/100,y:1-s.v/100})},[s.s,s.v]);const R=(p,v)=>{p.preventDefault();const u=pe(v);e({s:Math.round(u.x*100),v:Math.round((1-u.y)*100)}),r({s:Math.round(u.x*100),v:Math.round((1-u.y)*100)})},j=p=>{switch(p.key){case"ArrowUp":{R(p,{y:l.y-.05,x:l.x});break}case"ArrowDown":{R(p,{y:l.y+.05,x:l.x});break}case"ArrowRight":{R(p,{x:l.x+.05,y:l.y});break}case"ArrowLeft":{R(p,{x:l.x-.05,y:l.y});break}}};return f.jsxs(G,{...m("saturation"),ref:y,...i,role:"slider","aria-label":n,"aria-valuenow":l.x,"aria-valuetext":E("rgba",s),tabIndex:o?0:-1,onKeyDown:j,children:[f.jsx("div",{...m("saturationOverlay",{style:{backgroundColor:`hsl(${s.h}, 100%, 50%)`}})}),f.jsx("div",{...m("saturationOverlay",{style:{backgroundImage:"linear-gradient(90deg, #fff, transparent)"}})}),f.jsx("div",{...m("saturationOverlay",{style:{backgroundImage:"linear-gradient(0deg, #000, transparent)"}})}),f.jsx(ae,{position:l,...m("thumb",{style:{backgroundColor:b}})})]})}$e.displayName="@mantine/core/Saturation";const Re=h.forwardRef(({className:t,datatype:e,setValue:r,onChangeEnd:s,size:n,focusable:o,data:a,swatchesPerRow:b,...x},c)=>{const i=ne(),m=a.map((l,d)=>h.createElement(be,{...i.getStyles("swatch"),unstyled:i.unstyled,component:"button",type:"button",color:l,key:d,radius:"sm",onClick:()=>{r(l),s==null||s(l)},"aria-label":l,tabIndex:o?0:-1,"data-swatch":!0}));return f.jsx(G,{...i.getStyles("swatches"),ref:c,...x,children:m})});Re.displayName="@mantine/core/Swatches";const Ue={swatchesPerRow:7,withPicker:!0,focusable:!0,size:"md",__staticSelector:"ColorPicker"},Xe=je((t,{size:e,swatchesPerRow:r})=>({wrapper:{"--cp-preview-size":X(e,"cp-preview-size"),"--cp-width":X(e,"cp-width"),"--cp-body-spacing":Me(e),"--cp-swatch-size":`${100/r}%`,"--cp-thumb-size":X(e,"cp-thumb-size"),"--cp-saturation-height":X(e,"cp-saturation-height")}})),ke=fe((t,e)=>{const r=q("ColorPicker",Ue,t),{classNames:s,className:n,style:o,styles:a,unstyled:b,vars:x,format:c,value:i,defaultValue:m,onChange:l,onChangeEnd:d,withPicker:P,size:y,saturationLabel:R,hueLabel:j,alphaLabel:p,focusable:v,swatches:u,swatchesPerRow:D,fullWidth:_,onColorSwatchClick:T,__staticSelector:z,mod:J,...M}=r,A=me({name:z,props:r,classes:oe,className:n,style:o,classNames:s,styles:a,unstyled:b,rootSelector:"wrapper",vars:x,varsResolver:Xe}),N=h.useRef(c),C=h.useRef(),V=h.useRef(-1),L=h.useRef(!1),U=c==="hexa"||c==="rgba"||c==="hsla",[F,I,g]=Ee({value:i,defaultValue:m,finalValue:"#FFFFFF",onChange:l}),[w,H]=h.useState(B(F)),W=()=>{window.clearTimeout(V.current),L.current=!0},Q=()=>{window.clearTimeout(V.current),V.current=window.setTimeout(()=>{L.current=!1},200)},Z=S=>{H(O=>{const ue={...O,...S};return C.current=E(N.current,ue),ue}),I(C.current)};return te(()=>{Ve(i)&&!L.current&&H(B(i))},[i]),te(()=>{N.current=c,I(E(c,w))},[c]),f.jsx(Te,{value:{getStyles:A,unstyled:b},children:f.jsxs(G,{ref:e,...A("wrapper"),size:y,mod:[{"full-width":_},J],...M,children:[P&&f.jsxs(f.Fragment,{children:[f.jsx($e,{value:w,onChange:Z,onChangeEnd:({s:S,v:O})=>d==null?void 0:d(E(N.current,{...w,s:S,v:O})),color:F,size:y,focusable:v,saturationLabel:R,onScrubStart:W,onScrubEnd:Q}),f.jsxs("div",{...A("body"),children:[f.jsxs("div",{...A("sliders"),children:[f.jsx(Se,{value:w.h,onChange:S=>Z({h:S}),onChangeEnd:S=>d==null?void 0:d(E(N.current,{...w,h:S})),size:y,focusable:v,"aria-label":j,onScrubStart:W,onScrubEnd:Q}),U&&f.jsx(ge,{value:w.a,onChange:S=>Z({a:S}),onChangeEnd:S=>{d==null||d(E(N.current,{...w,a:S}))},size:y,color:E("hex",w),focusable:v,"aria-label":p,onScrubStart:W,onScrubEnd:Q})]}),U&&f.jsx(be,{color:F,radius:"sm",size:"var(--cp-preview-size)",...A("preview")})]})]}),Array.isArray(u)&&f.jsx(Re,{data:u,swatchesPerRow:D,focusable:v,setValue:I,onChangeEnd:S=>{const O=E(c,B(S));T==null||T(O),d==null||d(O),g||H(B(S))}})]})})});ke.classes=oe;ke.displayName="@mantine/core/ColorPicker";export{ke as C,E as c,Ve as i,B as p};
